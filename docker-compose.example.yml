# Hextech File Hosting - Docker Compose Example
# Copy to docker-compose.yml and customize

services:
  hextech:
    image: ghcr.io/v1ggs-dev/hextech-file-hosting:latest
    container_name: hextech-panel
    restart: unless-stopped
    environment:
      - ALLOWED_ORIGINS=https://files.yourdomain.com
      - PUBLIC_HOSTNAME=cdn.yourdomain.com
      # Optional:
      # - PORT=8080
      # - MAX_UPLOAD_SIZE=104857600
      # - DEV_MODE=false
    volumes:
      - hextech-data:/data
      - ./cdn-files:/srv/cdn
    ports:
      - "8080:8080"

volumes:
  hextech-data:

    # ─────────────────────────────────────────────────────────────
    # PRODUCTION SETUP: With Cloudflare Tunnel & Nginx CDN
    # Uncomment below and remove the 'ports' section above
    # ─────────────────────────────────────────────────────────────
    #
    #   cdn:
    #     image: nginx:alpine
    #     container_name: hextech-cdn
    #     restart: unless-stopped
    #     volumes:
    #       - ./cdn-files:/usr/share/nginx/html:ro
    #       - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    #
    #   cloudflared:
    #     image: cloudflare/cloudflared:latest
    #     container_name: hextech-tunnel
    #     restart: unless-stopped
    #     command: tunnel run
    #     environment:
    #       - TUNNEL_TOKEN=${TUNNEL_TOKEN}
    #     depends_on:
    #       - hextech
    #       - cdn
